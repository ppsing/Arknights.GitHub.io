<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ArknightsData | 登录</title>
    <link rel="stylesheet" href="../css/normalize.css">
    <link rel="stylesheet" href="../css/common.css">
    <link rel="stylesheet" href="../css/login.css">
</head>

<body onload="checkCookie()">
    <!-- 导航栏 -->
    <div id="top-menu">
        <a href="../index.html">
            <div class="nav">Arknights Data</div>
        </a>
        <a href="">
            <div class="nav">敌人档案</div>
        </a>
        <a href="">
            <div class="nav">时装回廊</div>
        </a>
        <a href="">
            <div class="nav">活动一览</div>
        </a>
        <a href="">
            <div class="nav">道具资料</div>
        </a>
        <a href="">
            <div class="nav">剧情记录</div>
        </a>
        <a href="details/log.html">
            <div class="nav">登录</div>
        </a>
    </div>

    <!-- 登录界面 -->
    <div id="section">
        <div id="box-border">
            <div id="title"><span>登录</span></div>
            <div id="userloginform">
                <!-- 登录表单 -->
                <form action="" method="GET" name="userlogin">
                    <div>
                        <!-- 用户名 -->
                        <div class="form-items">
                            <label for="Name1">用户名</label>
                            <div>
                                <input type="text" name="Name" id="userName" size="20" class="input-ui"
                                    placeholder="请输入您的姓名" tabindex="1" required>
                            </div>
                        </div>
                        <!-- 密码 -->
                        <div class="form-items">
                            <label for="Password1">密码</label>
                            <div>
                                <input type="password" name="Password" id="password" size="20" class="input-ui"
                                    placeholder="请输入您的密码" tabindex="2" required>
                            </div>
                        </div>
                        <!-- 登录按钮 -->
                        <div class="form-items">
                            <button class="button-ui" id="LoginAttempt" type="submit" name="loginattempt" value="登录"
                                tabindex="3" onclick="saveCookie()">登录</button>
                        </div>
                        <!-- 账户注册 -->
                        <div class="form-items">
                            <div id="creareaccount">
                                <span>没有账户？</span><br>
                                <div class="button-ui" id="createaccount-join"><a href="createaccount.html"
                                        tabindex="100">加入</a></div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <script src="../js/login.js"></script>
    <script>
        function setCookie(name, value, expiredays) {
            var exdate = new Date();
            exdate.setDate(exdate.getDate() + expiredays);
            document.cookie = name + "=" + escape(value) + ((expiredays == null) ? "" : ";expires=" + exdate
                .toGMTString()); //创建cookie
        }

        function getCookie(name) //获取cookie
        {
            if (document.cookie.length > 0) {
                c_start = document.cookie.indexOf(name + "=");
                if (c_start != -1) {
                    c_start = c_start + name.length + 1;
                    c_end = document.cookie.indexOf(";", c_start);
                    if (c_end == -1) c_end = document.cookie.length;
                    return unescape(document.cookie.substring(c_start, c_end));
                }
            }
            return "";
        }

        function checkCookie() //检查cookie是否存在，若存在，读取出来
        {
            var userName = document.getElementById("userName");
            var password = document.getElementById("password");
            var UValue = getCookie(userName.id);
            var PValue = getCookie(password.id);
            if (UValue != null && UValue != "" && PValue != null && PValue != "") {
                userName.value = UValue;
                password.value = PValue;
            }
        }

        function saveCookie() { //保存cookie
            var UName = document.getElementById("userName");
            var PName = document.getElementById("password");
            if (UName.value == "") {
                alert("请输入用户名！");
            } else if (PName.value == "") {
                alert("请输入密码！");
            } else if (confirm("是否保存用户名密码？")) {
                setCookie(UName.id, UName.value, 30);
                setCookie(PName.id, PName.value, 30);
            }
        }
    </script>
</body>

</html>